---
// 1. Importar tus datos
import Footer from "../../components/Footer.astro";
import Header from "../../components/Header.astro";
import HeroSection from "../../components/HeroSection.astro";
import Layout from "../../layouts/Layout.astro";
import { products } from "./index.astro";

export async function getStaticPaths() {
  return products.map((product) => ({
    params: { slug: product.slug },
  }));
}

// 2. Obtener el parámetro de la URL
const { slug } = Astro.params;

// 3. Buscar el servicio correspondiente
const product = products.find((s) => s.slug === slug);

if (!product) {
  return Astro.redirect("/404");
}
---

<!-- Tu layout o plantilla con los datos -->
<Layout
  title={`Productos - ${product.slug} - TTN Company`}
  description={product.slug}
>
  <Header />
  <HeroSection
    title={product.alt}
    description={product.description}
    tags={product.subservices}
    logo={product.imageTitle}
    illustration={product.image}
  />
  <main class="py-14 bg-gray-50/50">
    <section class="container-custom-lg">
      <!-- ¿Qué es el producto? -->
      <div
        class="bg-[#E1F5FF] my-14 grid md:grid-cols-[1.6fr_2fr] rounded-lg relative gap-x-6"
      >
        <div class="w-full flex flex-col py-14 px-12 pr-4 text-justify">
          <h2 class="text-2xl font-bold text-accent-500 dark:text-white">
            ¿Qué es {product.name}?
          </h2>
          <p class="text-lg text-gray-600 mt-4">
            {product.description}
          </p>
          <p class="text-xl text-gray-600 mt-4">
            {product.description}
          </p>
          <p class="text-sm text-gray-500 mt-2">
            {product.alt}
          </p>
          <div class="mt-5">
            <a
              href="/contact"
              class="btn-secondary fs-14 py-2 px-8 inline-block"
            >
              Contáctanos
            </a>
          </div>
        </div>

        <div class="flex items-center justify-center w-full h-full xl:hidden">
          <img src={product.image} alt={product.alt} class="rounded-lg" />
        </div>

        <!-- Contenedor derecho de imágenes -->
        <div class="hidden xl:block w-full relative">
          <!-- Imagen secundaria de fondo (Login) que sobresale -->
          <img
            src={product.image}
            alt={product.alt}
            class="absolute -right-10 -top-10 hidden md:block rounded-lg bg-white/95 max-w-[550px] p-4 shadow-[0_0_50px_0px_rgba(0,0,0,0.1)]"
          />

          <img
            src={product.image}
            alt={product.alt}
            class="absolute z-10 -bottom-10 left-0 rounded-lg bg-white/95 max-w-[550px] p-4 shadow-[0_0_50px_0px_rgba(0,0,0,0.1)]"
          />
        </div>
      </div>

      <!-- Beneficios -->
      <div class="text-center my-32">
        <span
          class="inline-block px-4 py-1 rounded-full bg-primary-100 dark:bg-primary-900 text-primary-600 dark:text-primary-300 font-medium text-sm mb-4"
        >
          Diseñado para el sector de la salud
        </span>
        <!-- <h3 class="text-lg text-gray-600 font-bold mb-2">
          
        </h3> -->
        <h2 class="text-4xl text-accent-500 font-bold mb-10">Beneficios</h2>
        <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-16 justify-center">
          {
            product.subservices.map((item) => (
              <div class="flex flex-col items-center justify-center rounded-md bg-white border-2 drop-shadow-xl p-6 md:min-h-[350px] text-center">
                <img src={product.image} alt={product.alt} class="h-[120px]" />
                <p class="text-accent-500 font-bold text-lg mt-4">{item}</p>
                <p class="text-sm text-gray-600 mt-2">
                  Este beneficio ayuda a mejorar procesos clave.
                </p>
              </div>
            ))
          }
        </div>
      </div>
    </section>

    <section class="container-custom-lg">
      <!-- Aplicaciones del sistema -->
      <div class="flex flex-col items-center text-center my-20">
        <span
          class="inline-block px-4 py-1 rounded-full bg-primary-100 dark:bg-primary-900 text-primary-600 dark:text-primary-300 font-medium text-sm mb-4"
        >
          Aplicaciones
        </span>
        <!-- <h3 class="text-lg text-gray-600 font-bold">Aplicaciones</h3> -->
        <h2 class="text-4xl text-accent-500 font-bold">
          Centraliza procesos internos con un solo sistema
        </h2>
      </div>

      <div class="md:flex gap-6">
        <div class="w-full md:w-6/12 relative">
          <img
            src={product.image}
            alt="Apps illustration"
            class="w-full max-w-lg mx-auto"
          />
        </div>
        <div class="grid grid-cols-2 gap-12 w-full justify-center">
          {
            product.subservices.map((item) => (
              <div class="flex items-center bg-white drop-shadow-xl px-6 py-4 rounded-md gap-x-4">
                <div class="p-2 bg-primary-50 flex items-center justify-center rounded-md">
                  <svg
                    class="w-5 h-5 text-primary-600 dark:text-primary-400"
                    fill="none"
                    stroke="currentColor"
                    viewBox="0 0 24 24"
                    xmlns="http://www.w3.org/2000/svg"
                  >
                    <path
                      stroke-linecap="round"
                      stroke-linejoin="round"
                      stroke-width="4"
                      d="M5 13l4 4L19 7"
                    />
                  </svg>
                </div>
                <span class="text-gray-700 font-bold">{item}</span>
              </div>
            ))
          }
        </div>
      </div>

      <!-- Gestión y Finanzas -->
      <div class="flex flex-col gap-20 mt-10">
        <!-- Gestión -->
        <div class="flex flex-col items-center text-center my-20">
          <span
            class="inline-block px-4 py-1 rounded-full bg-primary-100 dark:bg-primary-900 text-primary-600 dark:text-primary-300 font-medium text-sm mb-4"
          >
            Gestión
          </span>
          <!-- <h3 class="text-lg text-gray-600 font-bold">Aplicaciones</h3> -->
          <h2 class="text-4xl text-accent-500 font-bold">
            Controla tus recursos empresariales
          </h2>
        </div>

        <!-- <div class="md:flex items-center gap-10">
          <div class="md:w-1/2 px-6">
            <h3 class="text-lg text-gray-600 font-bold">Gestión</h3>
            <h2 class="text-3xl font-bold text-prussianBlueDark mb-4">
              Controla tus recursos empresariales
            </h2>
            <p class="text-gray-700 text-lg">
              Aprende sobre el estado de tus recursos, inventario y
              colaboraciones.
            </p>
            <ul class="mt-4 space-y-3 text-prussianBlueDark">
              <li class="flex items-center gap-2">
                <img
                  src="/static/media/blueCheck.d3c0dff2805ecce6607f06c379b59974.svg"
                />
                <span>Monitorea indicadores</span>
              </li>
              <li class="flex items-center gap-2">
                <img
                  src="/static/media/blueCheck.d3c0dff2805ecce6607f06c379b59974.svg"
                />
                <span>Visualiza resultados en tiempo real</span>
              </li>
            </ul>
          </div>
          <div class="md:w-1/2 flex justify-center">
            <img
              src="/static/media/biowelImage7.1b3619e24160181ba05c5a5a5befb98b.svg"
              alt="Gestión"
              class="drop-shadow-xl max-w-md"
            />
          </div>
        </div> -->

        <!-- Finanzas -->
        <div class="flex flex-col items-center text-center my-20">
          <span
            class="inline-block px-4 py-1 rounded-full bg-primary-100 dark:bg-primary-900 text-primary-600 dark:text-primary-300 font-medium text-sm mb-4"
          >
            Finanzas
          </span>
          <!-- <h3 class="text-lg text-gray-600 font-bold">Aplicaciones</h3> -->
          <h2 class="text-4xl text-accent-500 font-bold">
            Sistematiza tus procesos financieros
          </h2>
        </div>

        <!-- <div class="md:flex items-center gap-10 flex-row-reverse">
          <div class="md:w-1/2 px-6">
            <h3 class="text-lg text-gray-600 font-bold">Finanzas</h3>
            <h2 class="text-3xl font-bold text-prussianBlueDark mb-4">
              Sistematiza tus procesos financieros
            </h2>
            <p class="text-gray-700 text-lg">
              Obtén reportes automatizados y confiables sin hojas de cálculo.
            </p>
            <ul class="mt-4 space-y-3 text-prussianBlueDark">
              <li class="flex items-center gap-2">
                <img
                  src="/static/media/blueCheck.d3c0dff2805ecce6607f06c379b59974.svg"
                />
                <span>Menos errores y reprocesos</span>
              </li>
              <li class="flex items-center gap-2">
                <img
                  src="/static/media/blueCheck.d3c0dff2805ecce6607f06c379b59974.svg"
                />
                <span>Rastreo de la información</span>
              </li>
            </ul>
          </div>
          <div class="md:w-1/2 flex justify-center">
            <img
              src="/static/media/comprasSVG.95e0ebf22678d13ad8aaceb8681656a0.svg"
              alt="Finanzas"
              class="drop-shadow-xl max-w-md"
            />
          </div>
        </div> -->
      </div>
    </section>
  </main>

  <Footer />
</Layout>
